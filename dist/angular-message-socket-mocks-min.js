/*! angular-message-socket 25-09-2014 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){(function(){"use strict";var a=angular.module("mock.WebSocket",[]);a.factory("WebSocketBackend",function(a){var b=[],c=[],d=void 0,e=!1;return{when:function(a,b){c.push([a,b])},flush:function(){angular.forEach(b,function(a,e){var f=!1;angular.forEach(c,function(b){if(b[0](angular.fromJson(a))){var c={type:"message",data:b[1]};d.onmessage(c)}f=!0}),f&&delete b[e]})},push:function(a){var b={type:"message",data:a};d.onmessage(b)},close:function(a){var b={type:"close",code:1e3,reason:"",wasClean:!0};angular.forEach(a,function(a,c){c in b&&(b[c]=a)}),d.onclose(b)},error:function(){var a={type:"error"};d.onerror(a)},disable:function(){e=!0,this.close({wasClean:!1})},enable:function(){e=!1},outstandingRequests:function(){return b.map(function(a){return JSON.parse(a)})},resetRequests:function(){b=[]},_registerClient:function(b){d=b;var c=this;a(function(){e?(c.close({wasClean:!1}),c.error()):d.onopen()})},_receiveRequest:function(a){b.push(a)},_receiveClose:function(){d.onclose({code:1e3,reason:"",wasClean:!0})}}}),a.factory("WebSocket",function(a){function b(){a._registerClient(this)}return b.prototype.send=function(b){a._receiveRequest(b)},b.prototype.close=function(b,c){null==b&&(b=1e3),null==c&&(c=""),a._receiveClose(b,c)},b})}).call(this)},{}]},{},[1]);
//# sourceMappingURL=angular-message-socket-mocks-min.js.map